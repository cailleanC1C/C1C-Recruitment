# C1C Matchmaker & WelcomeCrew Overview — 2025-10-14

## Detailed references
* [Matchmaker functionality](MATCHMAKER_FUNCTIONALITY_2025-10-14.md)
* [WelcomeCrew functionality](WELCOME_FUNCTIONALITY_2025-10-14.md)

## Side-by-side summary
| Area | Matchmaker | WelcomeCrew |
| --- | --- | --- |
| Core role | Recruiter/member panel bot that filters Google Sheet clan data, surfaces embeds, and orchestrates templated welcomes via the shared `Welcome` cog.【F:AUDIT/20251010_src/MM/bot_clanmatch_prefix.py†L1161-L1797】【F:AUDIT/20251010_src/MM/welcome.py†L303-L405】 | Thread watcher that logs welcome/promo closures to Sheets, prompting for missing data and renaming threads to the canonical closed format.【F:AUDIT/20251010_src/WC/bot_welcomecrew.py†L732-L1803】 |
| Data sources | Reads recruitment rows from `GOOGLE_SHEET_ID`/`WORKSHEET_NAME` and welcome templates from `WELCOME_SHEET_TAB`, caching results with configurable TTL.【F:AUDIT/20251010_src/MM/bot_clanmatch_prefix.py†L64-L149】【F:AUDIT/20251010_src/MM/bot_clanmatch_prefix.py†L2506-L2513】 | Uses Sheet1/Sheet4 for ticket logging and the clanlist tab for tag inference, with cached worksheet handles and clan tag regexes.【F:AUDIT/20251010_src/WC/bot_welcomecrew.py†L115-L381】 |
| User commands | `!clanmatch`, `!clansearch`, `!clan`, and welcome/admin commands gated by recruiter/lead roles and interaction ownership checks.【F:AUDIT/20251010_src/MM/bot_clanmatch_prefix.py†L1678-L2091】【F:AUDIT/20251010_src/MM/welcome.py†L303-L443】 | `!env_check`, `!backfill_tickets`, `!watch_status`, and health/maintenance commands toggled via `ENABLE_CMD_*` flags.【F:AUDIT/20251010_src/WC/bot_welcomecrew.py†L1007-L1297】 |
| Automation | Scheduled sheet cache refresh, daily recruiter summary posts, channel cleanup, and watchdog restarts keep recruiting flows current.【F:AUDIT/20251010_src/MM/bot_clanmatch_prefix.py†L620-L2297】 | Scheduled clan-tag refreshes, live close detection, dropdown prompts, and watchdog restarts ensure sheet parity and prompt resolution.【F:AUDIT/20251010_src/WC/bot_welcomecrew.py†L1350-L1600】 |
| Integrations | Discord UI views plus aiohttp `/health` & `/emoji-pad` endpoints for monitoring and emoji padding; depends on Google Sheets via `gspread`.【F:AUDIT/20251010_src/MM/bot_clanmatch_prefix.py†L760-L2495】 | Discord thread APIs with fallback notify channel usage and aiohttp health probes; interacts with Google Sheets via `gspread` for writes and dedupe.【F:AUDIT/20251010_src/WC/bot_welcomecrew.py†L700-L1596】 |
| Operational guardrails | Role-based access checks, reaction flip registry cleanup, and watchdog-triggered exits mitigate misuse and zombie states.【F:AUDIT/20251010_src/MM/bot_clanmatch_prefix.py†L1086-L2297】 | Backoff throttling, notify fallbacks, and ticket index caching avoid sheet abuse while surfacing incomplete records to staff.【F:AUDIT/20251010_src/WC/bot_welcomecrew.py†L400-L815】 |
